# 이미지 일괄 다운로드 크롬 확장

페이지에 존재하는 이미지를 순서대로 다운로드하고, 각 파일명에 번호를 매깁니다. (예: `파일-1.jpg`, `파일-2.png`, ...)

## 설치 방법 (개발자 모드)

1. Chrome 열기 → 주소창에 `chrome://extensions/` 이동
2. 우측 상단 "개발자 모드" 활성화
3. "압축해제된 확장 프로그램을 로드" 클릭 → 이 폴더 선택
4. 툴바의 확장 아이콘에서 "이미지 일괄 다운로드" 고정 후 사용

## 사용 방법

- 페이지에서 팝업을 열면 이미지 목록이 자동으로 불러와집니다.
- 접두사는 자동으로 하이픈 없는 `uuidv4`로 채워집니다. (예: `f2b4d9c4a1e2432a8d7c9f0b1e2d3a4b`)
- 썸네일을 클릭하여 선택/해제할 수 있습니다. 필요하면 전체 선택/해제 버튼 사용.
- “선택한 이미지 다운로드”를 클릭하면 선택된 이미지만 순서대로 저장됩니다.
- 파일명은 `접두사-번호.확장자` 형태입니다.

## 새 UI/UX (선택 다운로드)

- 팝업을 열면 미리보기가 바로 표시됩니다.
- 썸네일 이미지를 직접 클릭해 선택/해제합니다. “전체 선택/해제” 버튼 제공.
- “선택한 이미지 다운로드”를 클릭하면 선택된 이미지들만 순서대로 저장됩니다.

## 저장 위치 옵션 (서브 폴더)

- 기본: 다운로드 폴더에 바로 저장됩니다.
- 옵션: "하위 폴더에 저장"을 선택하고 폴더명을 입력하면 `다운로드/폴더명/파일-N.ext` 형태로 저장됩니다.
- 폴더명과 접두사는 특수문자를 자동으로 정리하며, 상대경로(`..`) 등은 허용하지 않습니다.

### 폴더 프리셋 관리

- 프리셋 선택: 미리 저장한 폴더명을 드롭다운에서 선택하면 입력 칸에 자동 반영됩니다.
- 프리셋 추가: 입력 칸의 폴더명을 "현재 폴더명 추가"로 저장할 수 있습니다.
- 프리셋 삭제: 드롭다운에서 하나를 선택한 뒤 "선택 프리셋 삭제"로 제거합니다.
- 프리셋은 확장 저장소(chrome.storage.local)에만 보관되며, 실제 폴더 생성/삭제는 다운로드 시점에 이루어집니다.

## 제한 사항/참고

- 기본적으로 `<img>`와 CSS `background-image`의 이미지까지 수집합니다.
- `blob:` URL 이미지는 브라우저 컨텍스트에 종속되어 직접 다운로드가 어려워 기본적으로 제외됩니다.
- `data:` URL, `http(s):` URL은 지원합니다.
- 파일 확장자는 URL 또는 데이터 URL의 MIME 타입에서 추정하며, 불명확한 경우 `.jpg`로 저장합니다.
